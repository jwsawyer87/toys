#! /usr/bin/env python

"""
   Print the number of files in directories and their subdirectories:

    <local_files> <global_files> <filename)
"""

import os
import sys

def visit(root):
  local_count = 0
  global_count = 0
  if os.path.isdir(root):
    for child in os.listdir(root):
      path = os.path.join(root, child)
      if os.path.isfile(path):
        local_count += 1
      elif os.path.isdir(path):
        global_count += visit(path)
    print '{local_count:10} {global_count:10} {root}'.format(**locals())
  return global_count + local_count

if len(sys.argv) == 1:
  visit('.')
else:
  map(visit, sys.argv[1:])
