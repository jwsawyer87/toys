viewer=notepad
viewer='c:/program files (x86)/vim/vim80/gvim.exe'

if test -t 0
then
  echo "stdin must be redirected" >&2
  false
else
  tmpfile="/tmp/$(basename "$0")-$(date +%s)-$$.tmp"
  trap "rm -fv $tmpfile" EXIT
  
  # use awk to add carriage returns
  awk '{ printf("%s\r\n", $0) }' > "$tmpfile"
  "$viewer" "c:/cygwin64$tmpfile"
fi
